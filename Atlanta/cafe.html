<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
      #panel {
        position: absolute;
        top: 5px;
        left: 50%;
        margin-left: -180px;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=visualization"></script>
    <script>
// Adding 500 Data Points
var map, pointarray, heatmap;

// place_data will be replaced by some lines instantiating placeData

placeData = [
  new google.maps.LatLng(33.934, -84.3544),
  new google.maps.LatLng(33.7559, -84.3118),
  new google.maps.LatLng(33.7345, -84.349),
  new google.maps.LatLng(33.7784, -84.3842),
  new google.maps.LatLng(33.7553, -84.3815),
  new google.maps.LatLng(33.7625, -84.3593),
  new google.maps.LatLng(33.9321, -84.3485),
  new google.maps.LatLng(33.9366, -84.3777),
  new google.maps.LatLng(33.8162, -84.3346),
  new google.maps.LatLng(33.8481, -84.3621),
  new google.maps.LatLng(33.8188, -84.3883),
  new google.maps.LatLng(33.7999, -84.3716),
  new google.maps.LatLng(33.8065, -84.3439),
  new google.maps.LatLng(33.8008, -84.4084),
  new google.maps.LatLng(33.7514, -84.3224),
  new google.maps.LatLng(33.7621, -84.3902),
  new google.maps.LatLng(33.8552, -84.3818),
  new google.maps.LatLng(33.7915, -84.3982),
  new google.maps.LatLng(33.9321, -84.3486),
  new google.maps.LatLng(33.7616, -84.3912),
  new google.maps.LatLng(33.7777, -84.409),
  new google.maps.LatLng(33.7681, -84.3495),
  new google.maps.LatLng(33.7766, -84.3885),
  new google.maps.LatLng(33.9181, -84.3788),
  new google.maps.LatLng(33.7736, -84.3659),
  new google.maps.LatLng(33.7971, -84.3879),
  new google.maps.LatLng(33.7905, -84.3049),
  new google.maps.LatLng(33.8463, -84.3675),
  new google.maps.LatLng(33.7528, -84.3863),
  new google.maps.LatLng(33.7569, -84.3461),
  new google.maps.LatLng(33.7932, -84.3994),
  new google.maps.LatLng(33.9344, -84.3528),
  new google.maps.LatLng(33.8398, -84.3772),
  new google.maps.LatLng(33.7754, -84.2957),
  new google.maps.LatLng(33.837, -84.3772),
  new google.maps.LatLng(33.7626, -84.3333),
  new google.maps.LatLng(33.7909, -84.4296),
  new google.maps.LatLng(33.7753, -84.4069),
  new google.maps.LatLng(33.7926, -84.3974),
  new google.maps.LatLng(33.7873, -84.3555),
  new google.maps.LatLng(33.7918, -84.2738),
  new google.maps.LatLng(33.7864, -84.3872),
  new google.maps.LatLng(33.844, -84.3699),
  new google.maps.LatLng(33.9293, -84.348),
  new google.maps.LatLng(33.7834, -84.3833),
  new google.maps.LatLng(33.7574, -84.3889),
  new google.maps.LatLng(33.9234, -84.3795),
  new google.maps.LatLng(33.7564, -84.3876),
  new google.maps.LatLng(33.7731, -84.3873),
  new google.maps.LatLng(33.8121, -84.4264),
  new google.maps.LatLng(33.7628, -84.3867),
  new google.maps.LatLng(33.7794, -84.4103),
  new google.maps.LatLng(33.9321, -84.348),
  new google.maps.LatLng(33.8, -84.3708),
  new google.maps.LatLng(33.8538, -84.379),
  new google.maps.LatLng(33.7338, -84.3738),
  new google.maps.LatLng(33.8431, -84.3808),
  new google.maps.LatLng(33.749, -84.3679),
  new google.maps.LatLng(33.7575, -84.3948),
  new google.maps.LatLng(33.8374, -84.3701),
  new google.maps.LatLng(33.7915, -84.3893),
  new google.maps.LatLng(33.9128, -84.3605),
  new google.maps.LatLng(33.9327, -84.3804),
  new google.maps.LatLng(33.8256, -84.3648),
  new google.maps.LatLng(33.9054, -84.3603),
  new google.maps.LatLng(33.8491, -84.3608),
  new google.maps.LatLng(33.7607, -84.3863),
  new google.maps.LatLng(33.9202, -84.3793),
  new google.maps.LatLng(33.7759, -84.3033),
  new google.maps.LatLng(33.7546, -84.4166),
  new google.maps.LatLng(33.8092, -84.3925),
  new google.maps.LatLng(33.9167, -84.3504),
  new google.maps.LatLng(33.75, -84.4009),
  new google.maps.LatLng(33.786, -84.4003),
  new google.maps.LatLng(33.7639, -84.3509),
  new google.maps.LatLng(33.7653, -84.3488),
  new google.maps.LatLng(33.7468, -84.356),
  new google.maps.LatLng(33.8274, -84.3314),
  new google.maps.LatLng(33.8475, -84.367),
  new google.maps.LatLng(33.9087, -84.379),
  new google.maps.LatLng(33.7553, -84.3893),
  new google.maps.LatLng(33.8251, -84.3667),
  new google.maps.LatLng(33.7501, -84.3547),
  new google.maps.LatLng(33.7811, -84.3837),
  new google.maps.LatLng(33.7761, -84.3773),
  new google.maps.LatLng(33.8125, -84.3658),
  new google.maps.LatLng(33.776, -84.3527),
  new google.maps.LatLng(33.7602, -84.388),
  new google.maps.LatLng(33.7382, -84.4152),
  new google.maps.LatLng(33.8038, -84.4121),
  new google.maps.LatLng(33.7754, -84.2941),
  new google.maps.LatLng(33.7627, -84.3865),
  new google.maps.LatLng(33.7724, -84.3777),
  new google.maps.LatLng(33.7647, -84.3336),
  new google.maps.LatLng(33.7743, -84.3963),
  new google.maps.LatLng(33.8177, -84.3748),
  new google.maps.LatLng(33.7492, -84.4128),
  new google.maps.LatLng(33.7617, -84.3856),
  new google.maps.LatLng(33.757, -84.3886),
  new google.maps.LatLng(33.7818, -84.4052),
  new google.maps.LatLng(33.7701, -84.3523),
  new google.maps.LatLng(33.8392, -84.3696),
  new google.maps.LatLng(33.7821, -84.3807),
  new google.maps.LatLng(33.8474, -84.371),
  new google.maps.LatLng(33.7474, -84.3064),
  new google.maps.LatLng(33.7598, -84.3864),
  new google.maps.LatLng(33.9032, -84.3801),
  new google.maps.LatLng(33.7892, -84.3267),
  new google.maps.LatLng(33.7706, -84.3894),
  new google.maps.LatLng(33.8518, -84.3609),
  new google.maps.LatLng(33.7862, -84.3876),
  new google.maps.LatLng(33.8532, -84.3614),
  new google.maps.LatLng(33.7618, -84.3879),
  new google.maps.LatLng(33.7738, -84.3987),
  new google.maps.LatLng(33.7762, -84.3832),
  new google.maps.LatLng(33.7393, -84.4182),
  new google.maps.LatLng(33.7433, -84.4378),
  new google.maps.LatLng(33.8481, -84.3673),
  new google.maps.LatLng(33.7546, -84.3822),
  new google.maps.LatLng(33.739, -84.368),
  new google.maps.LatLng(33.7512, -84.4133),
  new google.maps.LatLng(33.8279, -84.3424),
  new google.maps.LatLng(33.7925, -84.3202),
  new google.maps.LatLng(33.7579, -84.3012),
  new google.maps.LatLng(33.7518, -84.3237),
  new google.maps.LatLng(33.7532, -84.3957),
  new google.maps.LatLng(33.8354, -84.3826),
  new google.maps.LatLng(33.7878, -84.3849),
  new google.maps.LatLng(33.8369, -84.3691),
  new google.maps.LatLng(33.7407, -84.3573),
  new google.maps.LatLng(33.7868, -84.3883),
  new google.maps.LatLng(33.7981, -84.3708),
  new google.maps.LatLng(33.7758, -84.2713),
  new google.maps.LatLng(33.7628, -84.3865),
  new google.maps.LatLng(33.759, -84.3032),
  new google.maps.LatLng(33.7755, -84.2944),
  new google.maps.LatLng(33.758, -84.3622),
  new google.maps.LatLng(33.9169, -84.3546),
  new google.maps.LatLng(33.7803, -84.3688),
  new google.maps.LatLng(33.7916, -84.3864),
  new google.maps.LatLng(33.8484, -84.3735),
  new google.maps.LatLng(33.7767, -84.3901),
  new google.maps.LatLng(33.9058, -84.3792),
  new google.maps.LatLng(33.7523, -84.3954),
  new google.maps.LatLng(33.7965, -84.3688),
  new google.maps.LatLng(33.9407, -84.3615),
  new google.maps.LatLng(33.8139, -84.3938),
  new google.maps.LatLng(33.8243, -84.3644),
  new google.maps.LatLng(33.7729, -84.3528),
  new google.maps.LatLng(33.8532, -84.3615),
  new google.maps.LatLng(33.7598, -84.3884),
  new google.maps.LatLng(33.8427, -84.381),
  new google.maps.LatLng(33.8305, -84.3564),
  new google.maps.LatLng(33.764, -84.3165),
  new google.maps.LatLng(33.7611, -84.4009),
  new google.maps.LatLng(33.7594, -84.3843),
  new google.maps.LatLng(33.774, -84.3615),
  new google.maps.LatLng(33.7657, -84.3494),
  new google.maps.LatLng(33.788, -84.3262),
  new google.maps.LatLng(33.7627, -84.3927),
  new google.maps.LatLng(33.7599, -84.3872),
  new google.maps.LatLng(33.8491, -84.3609),
  new google.maps.LatLng(33.7724, -84.3508),
  new google.maps.LatLng(33.7797, -84.4113),
  new google.maps.LatLng(33.8479, -84.3629),
  new google.maps.LatLng(33.7647, -84.3332),
  new google.maps.LatLng(33.8924, -84.3823),
  new google.maps.LatLng(33.7778, -84.3876),
  new google.maps.LatLng(33.7785, -84.4107),
  new google.maps.LatLng(33.787, -84.3828),
  new google.maps.LatLng(33.7393, -84.4182),
  new google.maps.LatLng(33.787, -84.3826),
  new google.maps.LatLng(33.7817, -84.3873),
  new google.maps.LatLng(33.7848, -84.412),
  new google.maps.LatLng(33.7843, -84.3879),
  new google.maps.LatLng(33.7755, -84.2966),
  new google.maps.LatLng(33.7465, -84.3737),
  new google.maps.LatLng(33.7876, -84.3252),
  new google.maps.LatLng(33.8427, -84.3808),
  new google.maps.LatLng(33.7818, -84.3452),
  new google.maps.LatLng(33.7925, -84.386),
  new google.maps.LatLng(33.7754, -84.301),
  new google.maps.LatLng(33.9169, -84.3546),
  new google.maps.LatLng(33.8055, -84.3673),
  new google.maps.LatLng(33.7889, -84.37),
  new google.maps.LatLng(33.7563, -84.3917),
  new google.maps.LatLng(33.7554, -84.4028),
  new google.maps.LatLng(33.7522, -84.3946),
  new google.maps.LatLng(33.7583, -84.3947),
  new google.maps.LatLng(33.7864, -84.3878),
  new google.maps.LatLng(33.7544, -84.414),
  new google.maps.LatLng(33.7773, -84.3975),
  new google.maps.LatLng(33.8289, -84.3656),
  new google.maps.LatLng(33.7601, -84.3873),
  new google.maps.LatLng(33.7879, -84.3263),
  new google.maps.LatLng(33.8444, -84.3714),
  new google.maps.LatLng(33.7473, -84.3813),
  new google.maps.LatLng(33.7604, -84.3864),
  new google.maps.LatLng(33.8227, -84.3698),
  new google.maps.LatLng(33.7623, -84.383),
  new google.maps.LatLng(33.7498, -84.3781),
  new google.maps.LatLng(33.787, -84.3828),
  new google.maps.LatLng(33.7912, -84.3057),
  new google.maps.LatLng(33.779, -84.41),
  new google.maps.LatLng(33.8415, -84.3809),
  new google.maps.LatLng(33.7708, -84.3863),
  new google.maps.LatLng(33.7386, -84.4303),
  new google.maps.LatLng(33.7755, -84.3866),
  new google.maps.LatLng(33.8019, -84.4385),
  new google.maps.LatLng(33.938, -84.381),
  new google.maps.LatLng(33.8497, -84.3629),
  new google.maps.LatLng(33.7536, -84.3868),
  new google.maps.LatLng(33.7766, -84.296),
  new google.maps.LatLng(33.8256, -84.3655),
  new google.maps.LatLng(33.7752, -84.2947),
  new google.maps.LatLng(33.8107, -84.3577),
  new google.maps.LatLng(33.7463, -84.373),
  new google.maps.LatLng(33.8116, -84.425),
  new google.maps.LatLng(33.9218, -84.3783),
  new google.maps.LatLng(33.8462, -84.3731),
  new google.maps.LatLng(33.7715, -84.3674),
  new google.maps.LatLng(33.9255, -84.3836),
  new google.maps.LatLng(33.938, -84.3809),
  new google.maps.LatLng(33.7625, -84.3946),
  new google.maps.LatLng(33.8117, -84.3574),
  new google.maps.LatLng(33.7932, -84.3955),
  new google.maps.LatLng(33.7459, -84.4032),
  new google.maps.LatLng(33.7654, -84.3083),
  new google.maps.LatLng(33.7562, -84.3917),
  new google.maps.LatLng(33.8507, -84.3639),
  new google.maps.LatLng(33.7606, -84.3879),
  new google.maps.LatLng(33.8022, -84.4214),
  new google.maps.LatLng(33.7405, -84.3455),
  new google.maps.LatLng(33.767, -84.3494),
  new google.maps.LatLng(33.7595, -84.3711),
  new google.maps.LatLng(33.9235, -84.3777),
  new google.maps.LatLng(33.9194, -84.3825),
  new google.maps.LatLng(33.7879, -84.3689),
];

viewCenter = new google.maps.LatLng(33.7849, -84.3708);

function initialize() {
  var mapOptions = {
    zoom: 13,
    center: viewCenter,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };

  map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);

  var pointArray = new google.maps.MVCArray(placeData);

  heatmap = new google.maps.visualization.HeatmapLayer({
    data: pointArray
  });

  heatmap.setMap(map);
}

function toggleHeatmap() {
  heatmap.setMap(heatmap.getMap() ? null : map);
}

function changeGradient() {
  var gradient = [
    'rgba(0, 255, 255, 0)',
    'rgba(0, 255, 255, 1)',
    'rgba(0, 191, 255, 1)',
    'rgba(0, 127, 255, 1)',
    'rgba(0, 63, 255, 1)',
    'rgba(0, 0, 255, 1)',
    'rgba(0, 0, 223, 1)',
    'rgba(0, 0, 191, 1)',
    'rgba(0, 0, 159, 1)',
    'rgba(0, 0, 127, 1)',
    'rgba(63, 0, 91, 1)',
    'rgba(127, 0, 63, 1)',
    'rgba(191, 0, 31, 1)',
    'rgba(255, 0, 0, 1)'
  ]
  heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
}

function changeRadius() {
  heatmap.set('radius', heatmap.get('radius') ? null : 20);
}

function changeOpacity() {
  heatmap.set('opacity', heatmap.get('opacity') ? null : 0.2);
}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>

  <body>
    <div id="panel">
      <button onclick="toggleHeatmap()">Toggle Heatmap</button>
      <button onclick="changeGradient()">Change gradient</button>
      <button onclick="changeRadius()">Change radius</button>
      <button onclick="changeOpacity()">Change opacity</button>
    </div>
    <div id="map-canvas"></div>
  </body>
</html>
