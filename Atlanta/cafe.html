<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
      #panel {
        position: absolute;
        top: 5px;
        left: 50%;
        margin-left: -180px;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=visualization"></script>
    <script>
// Adding 500 Data Points
var map, pointarray, heatmap;

// place_data will be replaced by some lines instantiating placeData

placeData = [
  new google.maps.LatLng(33.7345, -84.349),
  new google.maps.LatLng(33.7553, -84.3815),
  new google.maps.LatLng(33.6875, -84.2554),
  new google.maps.LatLng(33.8162, -84.3346),
  new google.maps.LatLng(33.8065, -84.3439),
  new google.maps.LatLng(33.8008, -84.4084),
  new google.maps.LatLng(33.8497, -84.3629),
  new google.maps.LatLng(33.8972, -84.4468),
  new google.maps.LatLng(33.787, -84.3828),
  new google.maps.LatLng(33.8398, -84.3772),
  new google.maps.LatLng(33.8649, -84.4775),
  new google.maps.LatLng(33.6541, -84.4498),
  new google.maps.LatLng(33.7753, -84.4069),
  new google.maps.LatLng(33.844, -84.3699),
  new google.maps.LatLng(33.7834, -84.3833),
  new google.maps.LatLng(33.8444, -84.2548),
  new google.maps.LatLng(33.7564, -84.3876),
  new google.maps.LatLng(33.8121, -84.4264),
  new google.maps.LatLng(33.7794, -84.4103),
  new google.maps.LatLng(33.8431, -84.3808),
  new google.maps.LatLng(33.7868, -84.3883),
  new google.maps.LatLng(33.7382, -84.4152),
  new google.maps.LatLng(33.8186, -84.3124),
  new google.maps.LatLng(33.786, -84.4003),
  new google.maps.LatLng(33.6386, -84.4358),
  new google.maps.LatLng(33.7653, -84.3488),
  new google.maps.LatLng(33.9011, -84.4617),
  new google.maps.LatLng(33.8274, -84.3314),
  new google.maps.LatLng(33.776, -84.3527),
  new google.maps.LatLng(33.8772, -84.2936),
  new google.maps.LatLng(33.6578, -84.4509),
  new google.maps.LatLng(33.7647, -84.3336),
  new google.maps.LatLng(33.7743, -84.3963),
  new google.maps.LatLng(33.7762, -84.3832),
  new google.maps.LatLng(33.7538, -84.5468),
  new google.maps.LatLng(33.7701, -84.3523),
  new google.maps.LatLng(33.739, -84.368),
  new google.maps.LatLng(33.7925, -84.3202),
  new google.maps.LatLng(33.8369, -84.3691),
  new google.maps.LatLng(33.7981, -84.3708),
  new google.maps.LatLng(33.7766, -84.296),
  new google.maps.LatLng(33.7755, -84.2944),
  new google.maps.LatLng(33.7803, -84.3688),
  new google.maps.LatLng(33.7546, -84.4166),
  new google.maps.LatLng(33.8484, -84.3735),
  new google.maps.LatLng(33.7523, -84.3954),
  new google.maps.LatLng(33.7965, -84.3688),
  new google.maps.LatLng(33.8622, -84.2878),
  new google.maps.LatLng(33.8481, -84.3673),
  new google.maps.LatLng(33.7729, -84.3528),
  new google.maps.LatLng(33.7611, -84.4009),
  new google.maps.LatLng(33.6583, -84.3273),
  new google.maps.LatLng(33.788, -84.3262),
  new google.maps.LatLng(33.9079, -84.2985),
  new google.maps.LatLng(33.7075, -84.4084),
  new google.maps.LatLng(33.7752, -84.2947),
  new google.maps.LatLng(33.8613, -84.3396),
  new google.maps.LatLng(33.7465, -84.3737),
  new google.maps.LatLng(33.8474, -84.371),
  new google.maps.LatLng(33.7522, -84.3946),
  new google.maps.LatLng(33.7864, -84.3878),
  new google.maps.LatLng(33.881, -84.4615),
  new google.maps.LatLng(33.787, -84.3828),
  new google.maps.LatLng(33.7708, -84.3863),
  new google.maps.LatLng(33.8946, -84.3293),
  new google.maps.LatLng(33.6425, -84.4408),
  new google.maps.LatLng(33.7463, -84.373),
  new google.maps.LatLng(33.9054, -84.3603),
  new google.maps.LatLng(33.8443, -84.5029),
  new google.maps.LatLng(33.7889, -84.37),
  new google.maps.LatLng(33.7606, -84.3879),
  new google.maps.LatLng(33.6396, -84.4424),
  new google.maps.LatLng(33.8472, -84.2558),
  new google.maps.LatLng(33.7405, -84.3455),
  new google.maps.LatLng(33.767, -84.3494),
  new google.maps.LatLng(33.6389, -84.4294),
  new google.maps.LatLng(33.7784, -84.3842),
  new google.maps.LatLng(33.7905, -84.3049),
  new google.maps.LatLng(33.8444, -84.2564),
  new google.maps.LatLng(33.8481, -84.3621),
  new google.maps.LatLng(33.7999, -84.3716),
  new google.maps.LatLng(33.8961, -84.2823),
  new google.maps.LatLng(33.8552, -84.3818),
  new google.maps.LatLng(33.7777, -84.409),
  new google.maps.LatLng(33.7736, -84.3659),
  new google.maps.LatLng(33.6392, -84.4443),
  new google.maps.LatLng(33.8179, -84.3126),
  new google.maps.LatLng(33.7754, -84.2957),
  new google.maps.LatLng(33.8309, -84.4928),
  new google.maps.LatLng(33.8279, -84.3424),
  new google.maps.LatLng(33.7187, -84.385),
  new google.maps.LatLng(33.7574, -84.3889),
  new google.maps.LatLng(33.9006, -84.4779),
  new google.maps.LatLng(33.7731, -84.3873),
  new google.maps.LatLng(33.7628, -84.3867),
  new google.maps.LatLng(33.8787, -84.3802),
  new google.maps.LatLng(33.7338, -84.3738),
  new google.maps.LatLng(33.8374, -84.3701),
  new google.maps.LatLng(33.7915, -84.3893),
  new google.maps.LatLng(33.6397, -84.4392),
  new google.maps.LatLng(33.8806, -84.4711),
  new google.maps.LatLng(33.75, -84.4009),
  new google.maps.LatLng(33.7557, -84.4179),
  new google.maps.LatLng(33.8475, -84.367),
  new google.maps.LatLng(33.7501, -84.3547),
  new google.maps.LatLng(33.8493, -84.4282),
  new google.maps.LatLng(33.8584, -84.3816),
  new google.maps.LatLng(33.7221, -84.4639),
  new google.maps.LatLng(33.8038, -84.4121),
  new google.maps.LatLng(33.8092, -84.3925),
  new google.maps.LatLng(33.6409, -84.4439),
  new google.maps.LatLng(33.7724, -84.3777),
  new google.maps.LatLng(33.6384, -84.4325),
  new google.maps.LatLng(33.8392, -84.3696),
  new google.maps.LatLng(33.7821, -84.3807),
  new google.maps.LatLng(33.7474, -84.3064),
  new google.maps.LatLng(33.7598, -84.3864),
  new google.maps.LatLng(33.8518, -84.3609),
  new google.maps.LatLng(33.8491, -84.3609),
  new google.maps.LatLng(33.8107, -84.3577),
  new google.maps.LatLng(33.7512, -84.4133),
  new google.maps.LatLng(33.7518, -84.3237),
  new google.maps.LatLng(33.8466, -84.5025),
  new google.maps.LatLng(33.7878, -84.3849),
  new google.maps.LatLng(33.8773, -84.3795),
  new google.maps.LatLng(33.8882, -84.4735),
  new google.maps.LatLng(33.6398, -84.446),
  new google.maps.LatLng(33.6419, -84.2775),
  new google.maps.LatLng(33.7761, -84.2658),
  new google.maps.LatLng(33.8139, -84.3938),
  new google.maps.LatLng(33.8243, -84.3644),
  new google.maps.LatLng(33.8532, -84.3615),
  new google.maps.LatLng(33.7598, -84.3884),
  new google.maps.LatLng(33.7797, -84.4113),
  new google.maps.LatLng(33.8055, -84.3673),
  new google.maps.LatLng(33.7647, -84.3332),
  new google.maps.LatLng(33.8663, -84.4739),
  new google.maps.LatLng(33.6544, -84.5032),
  new google.maps.LatLng(33.779, -84.41),
  new google.maps.LatLng(33.7817, -84.3873),
  new google.maps.LatLng(33.7848, -84.412),
  new google.maps.LatLng(33.7843, -84.3879),
  new google.maps.LatLng(33.6401, -84.4327),
  new google.maps.LatLng(33.7876, -84.3252),
  new google.maps.LatLng(33.85, -84.28),
  new google.maps.LatLng(33.7269, -84.4137),
  new google.maps.LatLng(33.7563, -84.3917),
  new google.maps.LatLng(33.7583, -84.3947),
  new google.maps.LatLng(33.8817, -84.4701),
  new google.maps.LatLng(33.7544, -84.414),
  new google.maps.LatLng(33.7393, -84.4182),
  new google.maps.LatLng(33.8157, -84.3136),
  new google.maps.LatLng(33.7879, -84.3263),
  new google.maps.LatLng(33.6406, -84.4355),
  new google.maps.LatLng(33.8256, -84.3648),
  new google.maps.LatLng(33.8995, -84.3015),
  new google.maps.LatLng(33.7623, -84.383),
  new google.maps.LatLng(33.9072, -84.2982),
  new google.maps.LatLng(33.7536, -84.3868),
  new google.maps.LatLng(33.7082, -84.3801),
  new google.maps.LatLng(33.628, -84.3565),
  new google.maps.LatLng(33.7393, -84.4182),
  new google.maps.LatLng(33.7715, -84.3674),
  new google.maps.LatLng(33.902, -84.4545),
  new google.maps.LatLng(33.8117, -84.3574),
  new google.maps.LatLng(33.7746, -84.2967),
  new google.maps.LatLng(33.7459, -84.4032),
  new google.maps.LatLng(33.641, -84.4447),
  new google.maps.LatLng(33.7879, -84.3689),
  new google.maps.LatLng(33.6409, -84.4327),
  new google.maps.LatLng(33.8239, -84.294),
  new google.maps.LatLng(33.8802, -84.4687),
  new google.maps.LatLng(33.8188, -84.3883),
  new google.maps.LatLng(33.7621, -84.3902),
  new google.maps.LatLng(33.7616, -84.3912),
  new google.maps.LatLng(33.7625, -84.3593),
  new google.maps.LatLng(33.7932, -84.3994),
  new google.maps.LatLng(33.8344, -84.5081),
  new google.maps.LatLng(33.8717, -84.3806),
  new google.maps.LatLng(33.8912, -84.3018),
  new google.maps.LatLng(33.7909, -84.4296),
  new google.maps.LatLng(33.7058, -84.4576),
  new google.maps.LatLng(33.7595, -84.3711),
  new google.maps.LatLng(33.6406, -84.4447),
  new google.maps.LatLng(33.8, -84.3708),
  new google.maps.LatLng(33.6393, -84.4292),
  new google.maps.LatLng(33.7575, -84.3948),
  new google.maps.LatLng(33.7818, -84.4052),
  new google.maps.LatLng(33.8491, -84.3608),
  new google.maps.LatLng(33.7639, -84.3509),
  new google.maps.LatLng(33.7468, -84.356),
  new google.maps.LatLng(33.6427, -84.4393),
  new google.maps.LatLng(33.6383, -84.4425),
  new google.maps.LatLng(33.7553, -84.3893),
  new google.maps.LatLng(33.8251, -84.3667),
  new google.maps.LatLng(33.7811, -84.3837),
  new google.maps.LatLng(33.7895, -84.2503),
  new google.maps.LatLng(33.7761, -84.3773),
  new google.maps.LatLng(33.8125, -84.3658),
  new google.maps.LatLng(33.7602, -84.388),
  new google.maps.LatLng(33.7754, -84.2941),
  new google.maps.LatLng(33.7627, -84.3865),
  new google.maps.LatLng(33.9045, -84.4304),
  new google.maps.LatLng(33.8039, -84.2468),
  new google.maps.LatLng(33.7492, -84.4128),
  new google.maps.LatLng(33.7617, -84.3856),
  new google.maps.LatLng(33.654, -84.4496),
  new google.maps.LatLng(33.8992, -84.3016),
  new google.maps.LatLng(33.8915, -84.4557),
  new google.maps.LatLng(33.7862, -84.3876),
  new google.maps.LatLng(33.8532, -84.3614),
  new google.maps.LatLng(33.7579, -84.3012),
  new google.maps.LatLng(33.6409, -84.4256),
  new google.maps.LatLng(33.8256, -84.3655),
  new google.maps.LatLng(33.7758, -84.2713),
  new google.maps.LatLng(33.7767, -84.3901),
  new google.maps.LatLng(33.7528, -84.3863),
  new google.maps.LatLng(33.8896, -84.3831),
  new google.maps.LatLng(33.8427, -84.381),
  new google.maps.LatLng(33.8706, -84.3379),
  new google.maps.LatLng(33.764, -84.3165),
  new google.maps.LatLng(33.774, -84.3615),
  new google.maps.LatLng(33.7657, -84.3494),
  new google.maps.LatLng(33.7599, -84.3872),
  new google.maps.LatLng(33.7724, -84.3508),
  new google.maps.LatLng(33.7326, -84.5677),
  new google.maps.LatLng(33.8479, -84.3629),
  new google.maps.LatLng(33.7778, -84.3876),
  new google.maps.LatLng(33.8973, -84.4467),
  new google.maps.LatLng(33.8562, -84.5834),
  new google.maps.LatLng(33.7864, -84.3872),
  new google.maps.LatLng(33.7773, -84.3975),
  new google.maps.LatLng(33.7925, -84.386),
  new google.maps.LatLng(33.7754, -84.301),
  new google.maps.LatLng(33.8737, -84.531),
  new google.maps.LatLng(33.7627, -84.3927),
  new google.maps.LatLng(33.8289, -84.3656),
  new google.maps.LatLng(33.8372, -84.3097),
  new google.maps.LatLng(33.8444, -84.3714),
  new google.maps.LatLng(33.7473, -84.3813),
  new google.maps.LatLng(33.7105, -84.2712),
  new google.maps.LatLng(33.8607, -84.3095),
  new google.maps.LatLng(33.7766, -84.3885),
  new google.maps.LatLng(33.6378, -84.4393),
  new google.maps.LatLng(33.837, -84.3772),
  new google.maps.LatLng(33.7386, -84.4303),
  new google.maps.LatLng(33.7755, -84.3866),
  new google.maps.LatLng(33.8639, -84.308),
  new google.maps.LatLng(33.8507, -84.3639),
  new google.maps.LatLng(33.8863, -84.4624),
  new google.maps.LatLng(33.7932, -84.3955),
  new google.maps.LatLng(33.8462, -84.3731),
  new google.maps.LatLng(33.7654, -84.3083),
  new google.maps.LatLng(33.6408, -84.4388),
  new google.maps.LatLng(33.691, -84.5125),
  new google.maps.LatLng(33.9032, -84.3801),
  new google.maps.LatLng(33.7506, -84.4505),
  new google.maps.LatLng(33.6416, -84.4325),
  new google.maps.LatLng(33.8924, -84.3823),
  new google.maps.LatLng(33.7559, -84.3118),
  new google.maps.LatLng(33.6386, -84.4327),
  new google.maps.LatLng(33.8258, -84.3232),
  new google.maps.LatLng(33.7681, -84.3495),
  new google.maps.LatLng(33.7971, -84.3879),
  new google.maps.LatLng(33.8986, -84.4751),
  new google.maps.LatLng(33.8463, -84.3675),
  new google.maps.LatLng(33.7569, -84.3461),
  new google.maps.LatLng(33.6425, -84.4294),
  new google.maps.LatLng(33.7626, -84.3333),
  new google.maps.LatLng(33.7926, -84.3974),
  new google.maps.LatLng(33.7873, -84.3555),
  new google.maps.LatLng(33.7918, -84.2738),
  new google.maps.LatLng(33.8022, -84.4214),
  new google.maps.LatLng(33.8741, -84.4583),
  new google.maps.LatLng(33.749, -84.3679),
  new google.maps.LatLng(33.9052, -84.4846),
  new google.maps.LatLng(33.8738, -84.3802),
  new google.maps.LatLng(33.8538, -84.379),
  new google.maps.LatLng(33.7607, -84.3863),
  new google.maps.LatLng(33.7759, -84.3033),
  new google.maps.LatLng(33.8754, -84.5334),
  new google.maps.LatLng(33.6593, -84.4995),
  new google.maps.LatLng(33.8572, -84.3437),
  new google.maps.LatLng(33.7915, -84.3982),
  new google.maps.LatLng(33.867, -84.3014),
  new google.maps.LatLng(33.757, -84.3886),
  new google.maps.LatLng(33.8822, -84.5043),
  new google.maps.LatLng(33.8503, -84.4299),
  new google.maps.LatLng(33.759, -84.3032),
  new google.maps.LatLng(33.7892, -84.3267),
  new google.maps.LatLng(33.7706, -84.3894),
  new google.maps.LatLng(33.7618, -84.3879),
  new google.maps.LatLng(33.7738, -84.3987),
  new google.maps.LatLng(33.7433, -84.4378),
  new google.maps.LatLng(33.7546, -84.3822),
  new google.maps.LatLng(33.6589, -84.4087),
  new google.maps.LatLng(33.6404, -84.4179),
  new google.maps.LatLng(33.7532, -84.3957),
  new google.maps.LatLng(33.8354, -84.3826),
  new google.maps.LatLng(33.871, -84.2673),
  new google.maps.LatLng(33.7628, -84.3865),
  new google.maps.LatLng(33.758, -84.3622),
  new google.maps.LatLng(33.8443, -84.4898),
  new google.maps.LatLng(33.7916, -84.3864),
  new google.maps.LatLng(33.8177, -84.3748),
  new google.maps.LatLng(33.8875, -84.4739),
  new google.maps.LatLng(33.7407, -84.3573),
  new google.maps.LatLng(33.8305, -84.3564),
  new google.maps.LatLng(33.7594, -84.3843),
  new google.maps.LatLng(33.8505, -84.4291),
  new google.maps.LatLng(33.8604, -84.4746),
  new google.maps.LatLng(33.7625, -84.3946),
  new google.maps.LatLng(33.7514, -84.3224),
  new google.maps.LatLng(33.7785, -84.4107),
  new google.maps.LatLng(33.898, -84.4791),
  new google.maps.LatLng(33.8285, -84.325),
  new google.maps.LatLng(33.787, -84.3826),
  new google.maps.LatLng(33.7755, -84.2966),
  new google.maps.LatLng(33.6404, -84.419),
  new google.maps.LatLng(33.8726, -84.4577),
  new google.maps.LatLng(33.8427, -84.3808),
  new google.maps.LatLng(33.7818, -84.3452),
  new google.maps.LatLng(33.8844, -84.2675),
  new google.maps.LatLng(33.6806, -84.4384),
  new google.maps.LatLng(33.7554, -84.4028),
  new google.maps.LatLng(33.7385, -84.2517),
  new google.maps.LatLng(33.8016, -84.2801),
  new google.maps.LatLng(33.8284, -84.327),
  new google.maps.LatLng(33.7604, -84.3864),
  new google.maps.LatLng(33.8227, -84.3698),
  new google.maps.LatLng(33.7498, -84.3781),
  new google.maps.LatLng(33.7912, -84.3057),
  new google.maps.LatLng(33.9058, -84.3792),
  new google.maps.LatLng(33.8415, -84.3809),
  new google.maps.LatLng(33.8019, -84.4385),
  new google.maps.LatLng(33.865, -84.3051),
  new google.maps.LatLng(33.8488, -84.4295),
  new google.maps.LatLng(33.8116, -84.425),
  new google.maps.LatLng(33.7601, -84.3873),
  new google.maps.LatLng(33.7562, -84.3917),
  new google.maps.LatLng(33.6408, -84.4362),
  new google.maps.LatLng(33.7228, -84.5071),
];

viewCenter = new google.maps.LatLng(33.7645, -84.4146);

function initialize() {
  var mapOptions = {
    zoom: 13,
    center: viewCenter,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };

  map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);

  var pointArray = new google.maps.MVCArray(placeData);

  heatmap = new google.maps.visualization.HeatmapLayer({
    data: pointArray
  });

  heatmap.setMap(map);
}

function toggleHeatmap() {
  heatmap.setMap(heatmap.getMap() ? null : map);
}

function changeGradient() {
  var gradient = [
    'rgba(0, 255, 255, 0)',
    'rgba(0, 255, 255, 1)',
    'rgba(0, 191, 255, 1)',
    'rgba(0, 127, 255, 1)',
    'rgba(0, 63, 255, 1)',
    'rgba(0, 0, 255, 1)',
    'rgba(0, 0, 223, 1)',
    'rgba(0, 0, 191, 1)',
    'rgba(0, 0, 159, 1)',
    'rgba(0, 0, 127, 1)',
    'rgba(63, 0, 91, 1)',
    'rgba(127, 0, 63, 1)',
    'rgba(191, 0, 31, 1)',
    'rgba(255, 0, 0, 1)'
  ]
  heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
}

function changeRadius() {
  heatmap.set('radius', heatmap.get('radius') ? null : 20);
}

function changeOpacity() {
  heatmap.set('opacity', heatmap.get('opacity') ? null : 0.2);
}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>

  <body>
    <div id="panel">
      <button onclick="toggleHeatmap()">Toggle Heatmap</button>
      <button onclick="changeGradient()">Change gradient</button>
      <button onclick="changeRadius()">Change radius</button>
      <button onclick="changeOpacity()">Change opacity</button>
    </div>
    <div id="map-canvas"></div>
  </body>
</html>
