<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
      #panel {
        position: absolute;
        top: 5px;
        left: 50%;
        margin-left: -180px;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=visualization"></script>
    <script>
// Adding 500 Data Points
var map, pointarray, heatmap;

// place_data will be replaced by some lines instantiating placeData

placeData = [
  new google.maps.LatLng(30.2671, -97.7363),
  new google.maps.LatLng(30.2677, -97.7408),
  new google.maps.LatLng(30.2703, -97.7503),
  new google.maps.LatLng(30.2679, -97.7364),
  new google.maps.LatLng(30.268, -97.7369),
  new google.maps.LatLng(30.2594, -97.7383),
  new google.maps.LatLng(30.2627, -97.7251),
  new google.maps.LatLng(30.2778, -97.7726),
  new google.maps.LatLng(30.3287, -97.7401),
  new google.maps.LatLng(30.267, -97.7435),
  new google.maps.LatLng(30.2693, -97.7291),
  new google.maps.LatLng(30.292, -97.7343),
  new google.maps.LatLng(30.2673, -97.7406),
  new google.maps.LatLng(30.2721, -97.7542),
  new google.maps.LatLng(30.2703, -97.7499),
  new google.maps.LatLng(30.2641, -97.7462),
  new google.maps.LatLng(30.2671, -97.7436),
  new google.maps.LatLng(30.2839, -97.7219),
  new google.maps.LatLng(30.2532, -97.7006),
  new google.maps.LatLng(30.2671, -97.7386),
  new google.maps.LatLng(30.2765, -97.6997),
  new google.maps.LatLng(30.269, -97.742),
  new google.maps.LatLng(30.3388, -97.7309),
  new google.maps.LatLng(30.2607, -97.7468),
  new google.maps.LatLng(30.2925, -97.7356),
  new google.maps.LatLng(30.3719, -97.7257),
  new google.maps.LatLng(30.2651, -97.746),
  new google.maps.LatLng(30.2673, -97.7408),
  new google.maps.LatLng(30.2671, -97.7367),
  new google.maps.LatLng(30.2671, -97.7456),
  new google.maps.LatLng(30.2729, -97.7444),
  new google.maps.LatLng(30.2603, -97.7384),
  new google.maps.LatLng(30.2645, -97.733),
  new google.maps.LatLng(30.3291, -97.7317),
  new google.maps.LatLng(30.2483, -97.7715),
  new google.maps.LatLng(30.3236, -97.711),
  new google.maps.LatLng(30.2643, -97.7307),
  new google.maps.LatLng(30.2691, -97.7286),
  new google.maps.LatLng(30.277, -97.7512),
  new google.maps.LatLng(30.2415, -97.7604),
  new google.maps.LatLng(30.274, -97.7205),
  new google.maps.LatLng(30.2806, -97.759),
  new google.maps.LatLng(30.2789, -97.7424),
  new google.maps.LatLng(30.2452, -97.7301),
  new google.maps.LatLng(30.2671, -97.7398),
  new google.maps.LatLng(30.3667, -97.7291),
  new google.maps.LatLng(30.2699, -97.7486),
  new google.maps.LatLng(30.2666, -97.7382),
  new google.maps.LatLng(30.2778, -97.7363),
  new google.maps.LatLng(30.2589, -97.7484),
  new google.maps.LatLng(30.2662, -97.7449),
  new google.maps.LatLng(30.2664, -97.7451),
  new google.maps.LatLng(30.2643, -97.7307),
  new google.maps.LatLng(30.2605, -97.7379),
  new google.maps.LatLng(30.2645, -97.7443),
  new google.maps.LatLng(30.2519, -97.7638),
  new google.maps.LatLng(30.2463, -97.7511),
  new google.maps.LatLng(30.3228, -97.7276),
  new google.maps.LatLng(30.2691, -97.7313),
  new google.maps.LatLng(30.2634, -97.7272),
  new google.maps.LatLng(30.2651, -97.7464),
  new google.maps.LatLng(30.2659, -97.7357),
  new google.maps.LatLng(30.361, -97.7157),
  new google.maps.LatLng(30.3042, -97.7266),
  new google.maps.LatLng(30.2417, -97.7268),
  new google.maps.LatLng(30.2667, -97.7423),
  new google.maps.LatLng(30.2954, -97.742),
  new google.maps.LatLng(30.267, -97.7396),
  new google.maps.LatLng(30.3337, -97.7218),
  new google.maps.LatLng(30.2669, -97.7392),
  new google.maps.LatLng(30.267, -97.74),
  new google.maps.LatLng(30.3099, -97.7082),
  new google.maps.LatLng(30.2648, -97.7445),
  new google.maps.LatLng(30.3131, -97.7148),
  new google.maps.LatLng(30.3105, -97.7401),
  new google.maps.LatLng(30.2701, -97.736),
  new google.maps.LatLng(30.2846, -97.7048),
  new google.maps.LatLng(30.2857, -97.742),
  new google.maps.LatLng(30.3188, -97.7391),
  new google.maps.LatLng(30.2648, -97.7313),
  new google.maps.LatLng(30.283, -97.7454),
  new google.maps.LatLng(30.2686, -97.7422),
  new google.maps.LatLng(30.2686, -97.7455),
  new google.maps.LatLng(30.2406, -97.7609),
  new google.maps.LatLng(30.27, -97.7503),
  new google.maps.LatLng(30.2583, -97.7389),
  new google.maps.LatLng(30.3533, -97.7156),
  new google.maps.LatLng(30.238, -97.7394),
  new google.maps.LatLng(30.3293, -97.7107),
  new google.maps.LatLng(30.2619, -97.7589),
  new google.maps.LatLng(30.2672, -97.7388),
  new google.maps.LatLng(30.2589, -97.7484),
  new google.maps.LatLng(30.3162, -97.7084),
  new google.maps.LatLng(30.2648, -97.7449),
  new google.maps.LatLng(30.2514, -97.7491),
  new google.maps.LatLng(30.2953, -97.7843),
  new google.maps.LatLng(30.2741, -97.7634),
  new google.maps.LatLng(30.2669, -97.7452),
  new google.maps.LatLng(30.2683, -97.7263),
  new google.maps.LatLng(30.2598, -97.7375),
  new google.maps.LatLng(30.2662, -97.7459),
  new google.maps.LatLng(30.2495, -97.7669),
  new google.maps.LatLng(30.2313, -97.7596),
  new google.maps.LatLng(30.2678, -97.7463),
  new google.maps.LatLng(30.2656, -97.7478),
  new google.maps.LatLng(30.2626, -97.727),
  new google.maps.LatLng(30.2648, -97.7446),
  new google.maps.LatLng(30.2559, -97.7466),
  new google.maps.LatLng(30.2686, -97.7281),
  new google.maps.LatLng(30.2585, -97.7147),
  new google.maps.LatLng(30.2695, -97.7487),
  new google.maps.LatLng(30.3156, -97.7341),
  new google.maps.LatLng(30.2613, -97.7588),
  new google.maps.LatLng(30.2678, -97.7461),
  new google.maps.LatLng(30.3191, -97.7395),
  new google.maps.LatLng(30.267, -97.7435),
  new google.maps.LatLng(30.2799, -97.7216),
  new google.maps.LatLng(30.2504, -97.7492),
  new google.maps.LatLng(30.2599, -97.7549),
  new google.maps.LatLng(30.2695, -97.7498),
  new google.maps.LatLng(30.2703, -97.7501),
  new google.maps.LatLng(30.2642, -97.7414),
  new google.maps.LatLng(30.2698, -97.7481),
  new google.maps.LatLng(30.282, -97.7402),
  new google.maps.LatLng(30.268, -97.7435),
  new google.maps.LatLng(30.2675, -97.7412),
  new google.maps.LatLng(30.2627, -97.7241),
  new google.maps.LatLng(30.2668, -97.7436),
  new google.maps.LatLng(30.2605, -97.7337),
  new google.maps.LatLng(30.263, -97.7267),
  new google.maps.LatLng(30.2638, -97.7248),
  new google.maps.LatLng(30.2489, -97.7695),
  new google.maps.LatLng(30.2696, -97.7435),
  new google.maps.LatLng(30.3582, -97.7344),
  new google.maps.LatLng(30.2669, -97.7452),
  new google.maps.LatLng(30.2664, -97.7375),
  new google.maps.LatLng(30.2864, -97.7452),
  new google.maps.LatLng(30.2673, -97.7389),
  new google.maps.LatLng(30.2608, -97.7382),
  new google.maps.LatLng(30.2654, -97.7386),
  new google.maps.LatLng(30.3293, -97.7401),
  new google.maps.LatLng(30.3069, -97.7352),
  new google.maps.LatLng(30.2671, -97.7496),
  new google.maps.LatLng(30.274, -97.7196),
  new google.maps.LatLng(30.2736, -97.76),
  new google.maps.LatLng(30.2774, -97.7425),
  new google.maps.LatLng(30.2954, -97.7435),
  new google.maps.LatLng(30.2589, -97.7384),
  new google.maps.LatLng(30.3279, -97.709),
  new google.maps.LatLng(30.2676, -97.7459),
  new google.maps.LatLng(30.2901, -97.7416),
  new google.maps.LatLng(30.255, -97.7618),
  new google.maps.LatLng(30.2669, -97.7392),
  new google.maps.LatLng(30.2674, -97.7396),
  new google.maps.LatLng(30.2908, -97.7343),
  new google.maps.LatLng(30.3225, -97.7408),
  new google.maps.LatLng(30.2703, -97.7485),
  new google.maps.LatLng(30.2685, -97.7363),
  new google.maps.LatLng(30.2675, -97.7402),
  new google.maps.LatLng(30.3474, -97.7351),
  new google.maps.LatLng(30.2979, -97.7472),
  new google.maps.LatLng(30.2672, -97.739),
  new google.maps.LatLng(30.3289, -97.7075),
  new google.maps.LatLng(30.3065, -97.7356),
  new google.maps.LatLng(30.2643, -97.7466),
  new google.maps.LatLng(30.2655, -97.7402),
  new google.maps.LatLng(30.2697, -97.7425),
  new google.maps.LatLng(30.2986, -97.7411),
  new google.maps.LatLng(30.2618, -97.7164),
  new google.maps.LatLng(30.2696, -97.7529),
  new google.maps.LatLng(30.2634, -97.7272),
  new google.maps.LatLng(30.2633, -97.741),
  new google.maps.LatLng(30.2694, -97.7411),
  new google.maps.LatLng(30.2671, -97.7435),
  new google.maps.LatLng(30.3192, -97.7081),
  new google.maps.LatLng(30.2743, -97.7523),
  new google.maps.LatLng(30.2586, -97.7146),
  new google.maps.LatLng(30.2677, -97.7409),
  new google.maps.LatLng(30.2589, -97.7482),
  new google.maps.LatLng(30.2698, -97.7425),
  new google.maps.LatLng(30.2619, -97.7227),
  new google.maps.LatLng(30.2885, -97.7417),
  new google.maps.LatLng(30.3019, -97.7394),
  new google.maps.LatLng(30.2878, -97.7034),
  new google.maps.LatLng(30.2749, -97.7644),
  new google.maps.LatLng(30.2801, -97.7427),
  new google.maps.LatLng(30.2868, -97.7412),
  new google.maps.LatLng(30.2537, -97.7142),
  new google.maps.LatLng(30.3347, -97.7217),
  new google.maps.LatLng(30.2647, -97.7316),
  new google.maps.LatLng(30.2667, -97.7389),
  new google.maps.LatLng(30.2677, -97.7405),
  new google.maps.LatLng(30.2497, -97.7499),
  new google.maps.LatLng(30.2502, -97.7547),
  new google.maps.LatLng(30.2667, -97.7387),
  new google.maps.LatLng(30.2348, -97.7573),
  new google.maps.LatLng(30.2627, -97.7583),
  new google.maps.LatLng(30.2804, -97.7592),
  new google.maps.LatLng(30.2671, -97.7403),
  new google.maps.LatLng(30.2469, -97.7559),
  new google.maps.LatLng(30.264, -97.7287),
  new google.maps.LatLng(30.2505, -97.7491),
  new google.maps.LatLng(30.2491, -97.7501),
  new google.maps.LatLng(30.3713, -97.7246),
  new google.maps.LatLng(30.2665, -97.738),
  new google.maps.LatLng(30.2703, -97.7501),
  new google.maps.LatLng(30.2437, -97.7522),
  new google.maps.LatLng(30.2682, -97.7269),
  new google.maps.LatLng(30.2883, -97.7481),
  new google.maps.LatLng(30.2675, -97.7401),
  new google.maps.LatLng(30.2648, -97.7442),
  new google.maps.LatLng(30.3111, -97.7429),
  new google.maps.LatLng(30.2641, -97.7274),
  new google.maps.LatLng(30.2631, -97.7624),
  new google.maps.LatLng(30.2618, -97.7425),
  new google.maps.LatLng(30.2307, -97.732),
  new google.maps.LatLng(30.2621, -97.7294),
  new google.maps.LatLng(30.2954, -97.7842),
  new google.maps.LatLng(30.2575, -97.7265),
  new google.maps.LatLng(30.26, -97.7385),
  new google.maps.LatLng(30.2677, -97.7411),
  new google.maps.LatLng(30.3248, -97.739),
  new google.maps.LatLng(30.2955, -97.7418),
  new google.maps.LatLng(30.267, -97.7437),
  new google.maps.LatLng(30.2492, -97.7684),
  new google.maps.LatLng(30.318, -97.722),
  new google.maps.LatLng(30.3382, -97.7189),
  new google.maps.LatLng(30.2491, -97.7685),
  new google.maps.LatLng(30.371, -97.728),
  new google.maps.LatLng(30.2525, -97.7411),
  new google.maps.LatLng(30.2671, -97.7456),
  new google.maps.LatLng(30.2879, -97.7469),
  new google.maps.LatLng(30.2855, -97.742),
  new google.maps.LatLng(30.3133, -97.7383),
  new google.maps.LatLng(30.3615, -97.7162),
  new google.maps.LatLng(30.2601, -97.7374),
  new google.maps.LatLng(30.336, -97.7206),
  new google.maps.LatLng(30.3172, -97.7206),
  new google.maps.LatLng(30.2676, -97.7459),
  new google.maps.LatLng(30.2779, -97.7729),
  new google.maps.LatLng(30.2638, -97.738),
  new google.maps.LatLng(30.358, -97.7149),
  new google.maps.LatLng(30.3723, -97.7272),
  new google.maps.LatLng(30.2674, -97.7361),
  new google.maps.LatLng(30.369, -97.7271),
  new google.maps.LatLng(30.2634, -97.7272),
  new google.maps.LatLng(30.2656, -97.7434),
  new google.maps.LatLng(30.267, -97.7445),
  new google.maps.LatLng(30.2877, -97.7445),
  new google.maps.LatLng(30.2676, -97.739),
  new google.maps.LatLng(30.3151, -97.7418),
  new google.maps.LatLng(30.2728, -97.76),
  new google.maps.LatLng(30.2667, -97.7421),
  new google.maps.LatLng(30.2605, -97.7384),
  new google.maps.LatLng(30.2641, -97.7293),
  new google.maps.LatLng(30.2668, -97.7392),
  new google.maps.LatLng(30.2662, -97.7459),
  new google.maps.LatLng(30.2672, -97.7391),
  new google.maps.LatLng(30.2634, -97.7417),
  new google.maps.LatLng(30.3027, -97.7453),
  new google.maps.LatLng(30.2628, -97.7268),
  new google.maps.LatLng(30.2701, -97.7493),
  new google.maps.LatLng(30.2583, -97.7126),
  new google.maps.LatLng(30.2684, -97.7431),
  new google.maps.LatLng(30.2671, -97.7438),
  new google.maps.LatLng(30.287, -97.7418),
  new google.maps.LatLng(30.2634, -97.727),
  new google.maps.LatLng(30.2416, -97.759),
  new google.maps.LatLng(30.2641, -97.7288),
  new google.maps.LatLng(30.3126, -97.7049),
  new google.maps.LatLng(30.2619, -97.7227),
  new google.maps.LatLng(30.3614, -97.7162),
  new google.maps.LatLng(30.2668, -97.745),
  new google.maps.LatLng(30.2444, -97.7297),
  new google.maps.LatLng(30.2588, -97.7288),
  new google.maps.LatLng(30.2698, -97.7494),
  new google.maps.LatLng(30.2675, -97.74),
  new google.maps.LatLng(30.2664, -97.7454),
  new google.maps.LatLng(30.2676, -97.7366),
  new google.maps.LatLng(30.3087, -97.734),
  new google.maps.LatLng(30.2674, -97.7408),
  new google.maps.LatLng(30.3714, -97.7279),
  new google.maps.LatLng(30.2643, -97.7414),
  new google.maps.LatLng(30.2665, -97.7377),
  new google.maps.LatLng(30.2567, -97.7227),
  new google.maps.LatLng(30.2666, -97.7381),
  new google.maps.LatLng(30.2871, -97.7419),
  new google.maps.LatLng(30.2675, -97.7364),
  new google.maps.LatLng(30.2593, -97.7492),
  new google.maps.LatLng(30.273, -97.7573),
  new google.maps.LatLng(30.2574, -97.7249),
  new google.maps.LatLng(30.2621, -97.7612),
  new google.maps.LatLng(30.2666, -97.7456),
  new google.maps.LatLng(30.3444, -97.7385),
  new google.maps.LatLng(30.2641, -97.7426),
  new google.maps.LatLng(30.2654, -97.7468),
  new google.maps.LatLng(30.2653, -97.7483),
  new google.maps.LatLng(30.2672, -97.7391),
  new google.maps.LatLng(30.2798, -97.7421),
  new google.maps.LatLng(30.2668, -97.7389),
  new google.maps.LatLng(30.2654, -97.7478),
  new google.maps.LatLng(30.25, -97.75),
  new google.maps.LatLng(30.3723, -97.7273),
  new google.maps.LatLng(30.2884, -97.7481),
  new google.maps.LatLng(30.3719, -97.7275),
  new google.maps.LatLng(30.266, -97.7453),
  new google.maps.LatLng(30.2457, -97.7688),
  new google.maps.LatLng(30.2679, -97.7465),
  new google.maps.LatLng(30.265, -97.7316),
  new google.maps.LatLng(30.3734, -97.7283),
  new google.maps.LatLng(30.2687, -97.7365),
  new google.maps.LatLng(30.2677, -97.7365),
  new google.maps.LatLng(30.3474, -97.715),
  new google.maps.LatLng(30.3446, -97.7362),
  new google.maps.LatLng(30.2674, -97.7411),
  new google.maps.LatLng(30.28, -97.7413),
  new google.maps.LatLng(30.3184, -97.74),
  new google.maps.LatLng(30.2999, -97.7214),
  new google.maps.LatLng(30.2671, -97.7407),
  new google.maps.LatLng(30.2536, -97.7635),
  new google.maps.LatLng(30.266, -97.7403),
  new google.maps.LatLng(30.3662, -97.7292),
  new google.maps.LatLng(30.2562, -97.7477),
  new google.maps.LatLng(30.2686, -97.7456),
  new google.maps.LatLng(30.2739, -97.7204),
  new google.maps.LatLng(30.2657, -97.7434),
  new google.maps.LatLng(30.2678, -97.7409),
  new google.maps.LatLng(30.2649, -97.7311),
  new google.maps.LatLng(30.3723, -97.7273),
  new google.maps.LatLng(30.2953, -97.7421),
  new google.maps.LatLng(30.3064, -97.7354),
  new google.maps.LatLng(30.2587, -97.7386),
  new google.maps.LatLng(30.2795, -97.7594),
  new google.maps.LatLng(30.2672, -97.7438),
  new google.maps.LatLng(30.2701, -97.749),
  new google.maps.LatLng(30.2785, -97.7355),
  new google.maps.LatLng(30.3067, -97.7444),
  new google.maps.LatLng(30.2658, -97.7357),
  new google.maps.LatLng(30.2672, -97.7389),
  new google.maps.LatLng(30.3403, -97.7386),
  new google.maps.LatLng(30.2565, -97.7019),
  new google.maps.LatLng(30.2353, -97.7414),
  new google.maps.LatLng(30.267, -97.7397),
  new google.maps.LatLng(30.2687, -97.7458),
  new google.maps.LatLng(30.2701, -97.7434),
  new google.maps.LatLng(30.25, -97.7671),
  new google.maps.LatLng(30.3566, -97.7475),
  new google.maps.LatLng(30.264, -97.7288),
  new google.maps.LatLng(30.2523, -97.7484),
  new google.maps.LatLng(30.2675, -97.7453),
  new google.maps.LatLng(30.282, -97.7401),
  new google.maps.LatLng(30.2666, -97.7386),
  new google.maps.LatLng(30.2668, -97.7425),
  new google.maps.LatLng(30.3726, -97.7278),
  new google.maps.LatLng(30.2668, -97.7391),
  new google.maps.LatLng(30.26, -97.7556),
  new google.maps.LatLng(30.3194, -97.7082),
  new google.maps.LatLng(30.2757, -97.742),
  new google.maps.LatLng(30.3222, -97.714),
  new google.maps.LatLng(30.2619, -97.7425),
  new google.maps.LatLng(30.2682, -97.7368),
  new google.maps.LatLng(30.2677, -97.741),
  new google.maps.LatLng(30.2596, -97.7383),
  new google.maps.LatLng(30.267, -97.7401),
  new google.maps.LatLng(30.2696, -97.7495),
  new google.maps.LatLng(30.2564, -97.7233),
  new google.maps.LatLng(30.3567, -97.7312),
  new google.maps.LatLng(30.2653, -97.7456),
  new google.maps.LatLng(30.2453, -97.7687),
  new google.maps.LatLng(30.2632, -97.7267),
  new google.maps.LatLng(30.266, -97.7454),
  new google.maps.LatLng(30.2514, -97.7492),
  new google.maps.LatLng(30.2484, -97.7712),
  new google.maps.LatLng(30.258, -97.7388),
  new google.maps.LatLng(30.2915, -97.7414),
  new google.maps.LatLng(30.2493, -97.7688),
  new google.maps.LatLng(30.2677, -97.7407),
  new google.maps.LatLng(30.2682, -97.7411),
  new google.maps.LatLng(30.2657, -97.744),
  new google.maps.LatLng(30.3167, -97.7142),
  new google.maps.LatLng(30.2647, -97.7407),
  new google.maps.LatLng(30.2672, -97.7367),
  new google.maps.LatLng(30.2648, -97.7475),
  new google.maps.LatLng(30.2636, -97.7276),
  new google.maps.LatLng(30.2666, -97.733),
  new google.maps.LatLng(30.2677, -97.7406),
  new google.maps.LatLng(30.2914, -97.7347),
  new google.maps.LatLng(30.2332, -97.7587),
  new google.maps.LatLng(30.2625, -97.7154),
  new google.maps.LatLng(30.2657, -97.7484),
  new google.maps.LatLng(30.357, -97.7487),
  new google.maps.LatLng(30.2663, -97.7451),
  new google.maps.LatLng(30.3587, -97.7351),
  new google.maps.LatLng(30.2478, -97.7551),
  new google.maps.LatLng(30.2705, -97.7509),
  new google.maps.LatLng(30.2596, -97.7386),
  new google.maps.LatLng(30.2634, -97.7272),
  new google.maps.LatLng(30.2669, -97.7454),
  new google.maps.LatLng(30.2735, -97.76),
  new google.maps.LatLng(30.2579, -97.7388),
  new google.maps.LatLng(30.2648, -97.7412),
  new google.maps.LatLng(30.2674, -97.7394),
  new google.maps.LatLng(30.3049, -97.7263),
  new google.maps.LatLng(30.3179, -97.7221),
  new google.maps.LatLng(30.2747, -97.7648),
  new google.maps.LatLng(30.2637, -97.7411),
  new google.maps.LatLng(30.267, -97.7445),
  new google.maps.LatLng(30.2677, -97.7384),
  new google.maps.LatLng(30.2673, -97.7367),
];

viewCenter = new google.maps.LatLng(30.2863, -97.7364);

function initialize() {
  var mapOptions = {
    zoom: 13,
    center: viewCenter,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };

  map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);

  var pointArray = new google.maps.MVCArray(placeData);

  heatmap = new google.maps.visualization.HeatmapLayer({
    data: pointArray
  });

  heatmap.setMap(map);
}

function toggleHeatmap() {
  heatmap.setMap(heatmap.getMap() ? null : map);
}

function changeGradient() {
  var gradient = [
    'rgba(0, 255, 255, 0)',
    'rgba(0, 255, 255, 1)',
    'rgba(0, 191, 255, 1)',
    'rgba(0, 127, 255, 1)',
    'rgba(0, 63, 255, 1)',
    'rgba(0, 0, 255, 1)',
    'rgba(0, 0, 223, 1)',
    'rgba(0, 0, 191, 1)',
    'rgba(0, 0, 159, 1)',
    'rgba(0, 0, 127, 1)',
    'rgba(63, 0, 91, 1)',
    'rgba(127, 0, 63, 1)',
    'rgba(191, 0, 31, 1)',
    'rgba(255, 0, 0, 1)'
  ]
  heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
}

function changeRadius() {
  heatmap.set('radius', heatmap.get('radius') ? null : 20);
}

function changeOpacity() {
  heatmap.set('opacity', heatmap.get('opacity') ? null : 0.2);
}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>

  <body>
    <div id="panel">
      <button onclick="toggleHeatmap()">Toggle Heatmap</button>
      <button onclick="changeGradient()">Change gradient</button>
      <button onclick="changeRadius()">Change radius</button>
      <button onclick="changeOpacity()">Change opacity</button>
    </div>
    <div id="map-canvas"></div>
  </body>
</html>
